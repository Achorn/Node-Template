extends ../base 


mixin activityCard(activity)
  .card-activity-container
    hr
    div.activity-container
      h2
        a(href=`/user/${activity.user.username}`)= `${activity.user.username}`
      div.activity-card-game-container
        a(href=`/game/${activity.game}`)
          img.activity-card-image(src=`${activity.gameInfo.image.small_url}`, alt="")
        div
          h3 
            a(href=`/game/${activity.game}`)= `${activity.gameInfo.name}`
          h4= `${activity.experience}`
          if activity.rating 
            h4= `rating: ${activity.rating}`
          if activity.review 
            h4= `review: ${activity.review}`

block content 
  if !user
    main.main 
      h2 Gamurel is a place to keep track of your games and see what your friends are playing 
      br
      h3 This home page will soon be filled with a list of your friends activity once you start following them.
      br
      h3 To begin, use the search bar above to look for games.
      br
      h3 Happy logging!
      
  else
    h2 Recent Activity 
    each act in activity 
      +activityCard(act)


    //- .card-container 

      //- each tour in tours
      //-   .card
      //-     .card__header
      //-       .card__picture
      //-         .card__picture-overlay &nbsp;
      //-         img.card__picture-img(src=`/img/tours/${tour.imageCover}`, alt=`${tour.name}`)
      //-       h3.heading-tertirary
      //-         span= tour.name

      //-     .card__details
      //-       h4.card__sub-heading= `${tour.difficulty} ${tour.duration}-day tour`
      //-       p.card__text= tour.summary
      //-       .card__data
      //-         svg.card__icon
      //-           use(xlink:href='/img/icons.svg#icon-map-pin')
      //-         span= tour.startLocation.description
      //-       .card__data
      //-         svg.card__icon
      //-           use(xlink:href='/img/icons.svg#icon-calendar')
      //-         span= tour.startDates[0].toLocaleString('en-us',{month:'long', year:'numeric'})
      //-       .card__data
      //-         svg.card__icon
      //-           use(xlink:href='/img/icons.svg#icon-flag')
      //-         span= `${tour.locations.length} stops`
      //-       .card__data
      //-         svg.card__icon
      //-           use(xlink:href='/img/icons.svg#icon-user')
      //-         span= tour.maxGroupSize

      //-     .card__footer
      //-       p
      //-         span.card__footer-value= `$${tour.price}`
      //-         | 
      //-         span.card__footer-text per person
      //-       p.card__ratings
      //-         span.card__footer-value= tour.ratingsAverage
      //-         | 
      //-         span.card__footer-text=`rating (${tour.ratingsQuantity})`
      //-       a.btn.btn--green.btn--small(href=`/tour/${tour.slug}`) Details